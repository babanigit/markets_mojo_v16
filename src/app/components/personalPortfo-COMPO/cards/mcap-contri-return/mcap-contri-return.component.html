<div class="card">

  <div class="card-content dividend">
    <div class="card-head">
      <h2>
        {{ HEAD }}
        <span
          class="card-title activator info-act"
          ng-click="isCollapseRetMcap = !isCollapseRetMcap"
        ></span>
      </h2>
    </div>
    <div class="price-mojo col-green ng-scope" *ngIf="data_Mcap!">
      <div class="txt-hed-1 priced ng-binding">
        {{ data_Mcap.txt1 }}
      </div>
      <table class="table1 divd-table">
        <thead>
          <tr>
            <th class="textcenter">
              MCap <br />
              Category
            </th>

            <th class="textcenter">Total<br />Return</th>
            <th class="textcenter">Return<br />Contribution</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let mcap of data_Mcap.list | keyvalue"
            ng-repeat="(key, rowArr) in returnData.mcap.list"
            class="ng-scope"
          >
            <td class="ng-binding">{{ mcap.value.txt }}</td>

            <td
              [ngClass]="
                this.fun.getDirClrDefault(mcap.value.tgaindir, 'orange')
              "
              class="ng-binding ng-scope"
            >
              {{ mcap.value.tgain | roundOff | twoCommas }}
            </td>

            <td class="ng-binding ng-scope">
              {{ mcap.value.tgainp | roundOff | twoCommas }}%
            </td>
          </tr>
        </tbody>
      </table>
      <div class="foot-note ng-binding"></div>
    </div>
    <!-- end ngIf: loader[0].pf_return_mcap == false && error_flag[0].return_mcap == 0 -->
  </div>

  <!-- slider -->
  <div class="card-reveal animate-slide ng-hide" ng-show="isCollapseRetMcap">
    <span class="card-title grey-text text-darken-4"
      >Card Title<i
        class="material-icons right"
        ng-click="isCollapseRetMcap = !isCollapseRetMcap"
        >close</i
      ></span
    >
    <div class="card-reveal-text">
      <ul>
        <li>
          Contribution of Market Cap categories in the portfolio to the
          Unrealized Gain/Loss of your current portfolio
        </li>
        <li>
          The sum of contribution would add up to the total percentage
          Unrealized Gain/Loss of your portfolio
        </li>
        <li>
          Unrealized gain/loss is the money that will be made if the current
          portfolio is liquidated at the latest prices. This is notional gain
          and there is no guarantee that when you go to sell in the market, the
          shares can be sold at the exact same prices to make the same gain.
        </li>
        <li>
          Click on Full Details to see bifurcation of market cap return
          contribution basis your portfolio stocks
        </li>
      </ul>
    </div>
  </div>
</div>

<!-- full details button -->
<div class="porbottomlink">
  <div class="bottom-card-links">
    <div class="bottom-card-links">
      <a
        (click)="sendToParent()"
        class="seefull waves-light"
        ng-click="returnContriPopup('mcap')"
        href="javascript:void(0);"
        ><img
          src="https://i.marketsmojo.com/arrow_rt.png"
          alt="ArrowRight"
          height="16"
        />
        Full Details</a
      >
    </div>
  </div>
</div>

<!-- full details -->
<div [hidden]="true">
  <div #childDiv class="modal-content contentbg">
    <div class="list-mojo">
      <table class="table1 mod-table">
        <thead>
          <tr>
            <th class="ng-binding">MCap Category <br /></th>
            <th>
              Portfolio<br />
              Weight
            </th>
            <th>Total<br />Return</th>
            <th>Return<br />Contribution</th>
          </tr>
        </thead>
        <tbody
        *ngIf="data_Mcap!"
        >

          <ng-container *ngFor="let sector of data_Mcap.list | keyvalue">
            <tr class="mod-hed-td ng-scope">
              <td class="ng-binding">{{ sector.value.txt }}</td>
              <td class="ng-binding ng-scope">{{ sector.value.pwt | roundOff | twoCommas  }}%</td>
              <td
              [ngClass]=" this.fun.getDirClrDefault(sector.value.tgaindir , 'gray' ) "
              class="ng-binding ng-scope">{{ sector.value.tgain | roundOff | twoCommas  }}</td>
              <td class="ng-binding ng-scope">{{ sector.value.tgainp | roundOff | twoCommas  }}%</td>
            </tr>

            <tr *ngFor="let stock of sector.value.list">
              <td class="ng-binding">{{ stock.sname }}</td>
              <td class="ng-binding ng-scope">{{ (stock.pwt | roundOff | twoCommas) || '0.00'  }}%</td>
              <td
              [ngClass]=" this.fun.getDirClrDefault( stock.tgaindir , 'gray' ) "
              class="ng-binding ng-scope">{{ stock.tgain | roundOff | twoCommas  }}</td>
              <td class="ng-binding ng-scope">{{ stock.tgainp | roundOff | twoCommas  }}%</td>
            </tr>
          </ng-container>

        </tbody>
      </table>
    </div>
  </div>
</div>
